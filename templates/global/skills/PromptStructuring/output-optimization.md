---
name: PromptStructuring-output-optimization
description: "Hook/프롬프트 출력의 토큰 최적화 기법과 가이드라인"
keywords: [output, optimization, hook, 토큰절약, 출력최적화, 슬림화]
estimated_tokens: 500
---

# 출력 최적화 가이드

## 목표

Hook/프롬프트 출력은 매 실행마다 Context Window를 소비한다. 최소한의 텍스트로 최대한의 지시를 전달한다.

## 출력 예산

| 항목 | 권장 | 최대 |
|------|------|------|
| 개별 Hook 출력 | ~50줄 | 80줄 |
| 전체 Hook 출력 합계 | ~120줄 | 150줄 |
| Subagent Hook 출력 | ~30줄 | 50줄 |

## 반복 제거 규칙

- 동일 내용을 2회 이상 출력하지 않는다
- CLAUDE.md에 이미 있는 내용은 Hook에서 반복하지 않는다
- 여러 Hook 간 중복 내용을 제거한다

## 축약 기법

| 기법 | Before | After |
|------|--------|-------|
| 테이블 > 산문 | 3줄 설명 | 1행 테이블 |
| 인라인 > 블록 | 코드 블록 예시 | 인라인 `코드` |
| 키워드 > 문장 | "이 작업은 git-manager Agent에 위임하세요" | "Git 작업 -> git-manager" |
| 1줄 요약 > 상세 | 5줄 설명 | 1줄 핵심 |

## 삭제 대상 판별

- "왜 이렇게 하는가?" 설명 -> 삭제 (이유보다 행동이 중요)
- 동일 규칙의 예시 3개 -> 1개로 축소
- ASCII 다이어그램 -> 인라인 흐름으로 대체: `A -> B -> C`
- 반복되는 라벨 ("필수 조건:", "필수 원칙:") -> 제거

## Before/After 예시

```
Before (15줄):
### 왜 Subagent를 사용해야 하는가?
1. Context 절약: ...
2. 대화 지속성: ...
3. 전문성: ...
4. 병렬 처리: ...

After (0줄): 삭제 (이유보다 규칙 자체가 중요)
```

```
Before (20줄 ASCII 다이어그램):
┌────────────────────┐
│  PHASE 1: 계획     │
│  ...               │
└────────────────────┘

After (1줄):
계획(Context→TaskList→Confirm) → 검증 → 구현(코드수정→커밋) → 리뷰
```
