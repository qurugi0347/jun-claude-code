---
name: Director
description: 프로젝트 스펙/기획 문서 작성 구조, 검증 규칙, 충돌 탐지 가이드라인 제공.
keywords: [프로젝트스펙, 기획문서, 검증규칙, 충돌탐지, spec]
estimated_tokens: ~600
---

# Director Skill

프로젝트 스펙/기획 문서의 작성 구조와 검증 규칙을 정의합니다.

---

## 프로젝트 스펙 디렉토리 구조

```
.claude/context/project/
├── INDEX.md              # 프로젝트 개요, 스펙 문서 목록
├── features/
│   ├── INDEX.md          # 기능 목록 요약
│   ├── auth.md           # 인증/인가 스펙
│   ├── order.md          # 주문 스펙
│   └── payment.md        # 결제 스펙
├── rules/
│   ├── business-rules.md # 비즈니스 규칙
│   └── constraints.md    # 기술 제약사항
└── models/
    └── data-model.md     # 데이터 모델 정의
```

---

## 기능 스펙 템플릿

```markdown
---
name: feature-[name]
description: [기능 한 줄 설명]
keywords: [관련 키워드]
---

# [기능명]

## 개요
(기능의 목적과 범위를 2-3문장으로)

## 비즈니스 규칙
| # | 규칙 | 조건 | 결과 |
|---|------|------|------|
| 1 | [규칙명] | [조건] | [결과] |

## 데이터 모델
| 필드 | 타입 | 필수 | 설명 |
|------|------|------|------|
| id | string | Y | 고유 식별자 |

## UX 플로우
1. 사용자가 [행동]
2. 시스템이 [반응]
3. ...

## 기술 제약
- [제약사항]

## 의존성
- [다른 기능/모듈과의 관계]
```

---

## 정합성 검증 매트릭스

새 작업이나 스펙 변경 시 아래 5개 축으로 검증합니다.

| 축 | 검증 질문 | 예시 |
|----|----------|------|
| **기능 범위** | 기존 기능과 겹치거나 모순되지 않는가? | 결제 기능이 이미 존재하는데 별도 결제 모듈 추가 |
| **비즈니스 규칙** | 기존 규칙과 충돌하는 조건이 없는가? | "주문 최소 금액 1만원" vs "0원 주문 허용" |
| **데이터 모델** | 기존 모델 구조와 호환되는가? | 필수 필드 제거, 타입 변경 |
| **UX 플로우** | 기존 사용자 플로우와 일관되는가? | 로그인 후 리다이렉트 경로 변경 |
| **기술 제약** | 아키텍처/기술 스택 제약을 위반하지 않는가? | REST API에 GraphQL 엔드포인트 혼용 |

---

## 충돌 탐지 체크리스트

스펙 변경 시 아래 4가지 유형의 충돌을 확인합니다.

### 1. 직접 모순
- 두 규칙이 명시적으로 상반되는 경우
- 예: "로그인 필수" vs "비회원 주문 가능"

### 2. 의존성 파괴
- 변경이 다른 기능의 전제 조건을 깨뜨리는 경우
- 예: 사용자 테이블 구조 변경 → 인증 모듈 파괴

### 3. 암묵적 충돌
- 명시되지 않았지만 전제가 변경되어 발생하는 충돌
- 예: 응답 포맷 변경 → 프론트엔드 파싱 실패

### 4. 데이터 불일치
- 같은 데이터를 다른 문서에서 다르게 정의
- 예: A 문서에서 "status: string", B 문서에서 "status: enum"

---

## 심각도 분류

| 심각도 | 의미 | 조치 |
|--------|------|------|
| **BLOCK** | 구현 불가한 논리적 모순 | 반드시 해결 후 진행 |
| **WARN** | 잠재적 문제, 검토 필요 | 사용자 확인 후 결정 |
| **INFO** | 인지할 사항, 영향 미미 | 기록만 남기고 진행 |
